#include  "../header/api.h"    		// private library - API layer
#include  "../header/halGPIO.h"     // private library - HAL layer

void Manual_Sleep(void){
    enterLPM();
}

void Joystick_Control(void){
    unsigned int pos = 0;
    unsigned int xSampled;
    unsigned int ySampled;
    unsigned char dir = 0;
    while(state = Joystick_Control){
        sampleJoyStickNoiseFilter(&xSampled , &ySampled);
        dir = calcDirection(xSampled , ySampled , pos); //return 0 if not move, 1 if clockwise , 2 in counterclockwise
        if (dir){
            if (dir == 1){
                StepMotorClockwise();
            }
            else{ //dir == 2
                StepMotorCounterClockwise();
            }
            StartTimerA1(50); //50Hz
        }
    }
}
